<!DOCTYPE HTML>
<html>
<head>
<title>SDK test</title>
<script type="text/javascript" data-app-id="P4TTEEXp9X8uwfZIklOA" src="https://c64.assets-yammer.com/assets/platform_js_sdk.js"></script>
</head>
<body>
  <span id="yj-share-button"></span>
  <h1 class="login-status">Signed Out</button>
  <button class="login-button">Login</button>
  <script type="text/javascript">
    const loginStatus = document.querySelector(".login-status");
    document.querySelector(".login-button").addEventListener("click", (evt) => {
      yam.platform.login((response) => {
        if (response.authResponse) {
          loginStatus.innerText = "Signed In";
          loginButton.style.display = "none";
          console.log("login successful", response);
          yam.platform.request({
            url: "users.json",
            method: "GET",
            data: {
              "letter": "a",
              "page": "2",
            },
            success: (user) => {
              console.log("request successful", user);
            },
            error: (user) => {
              console.log("request failed");
            }
          });
        } else {
          loginStatus.innerText = "Signed Out";
          loginButton.style.display = "inline-block";
          console.log("login failed", response);
        }
      });
    });
  </script>
</body>
</html>
